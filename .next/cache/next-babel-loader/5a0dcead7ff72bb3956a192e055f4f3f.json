{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../components/MyLayout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\n\nconst Index = props => __jsx(Layout, null, __jsx(\"h1\", null, \"Rick and Morty Episodes\"), __jsx(\"ul\", null, props.episodes.map(episode => __jsx(\"li\", {\n  key: episode.id\n}, __jsx(Link, {\n  href: \"/episode/[eid]\",\n  as: `/episode/${episode.id}`\n}, __jsx(\"a\", null, episode.name))))));\n\nIndex.getInitialProps = async function () {\n  const eresponse = await fetch('https://rickandmortyapi.com/api/episode').then(response => {\n    return response.json();\n  });\n  const arr = [];\n  let url = 'https://rickandmortyapi.com/api/episode/';\n\n  while (true) {\n    const eresponse = await fetch(url).then(response => {\n      return response.json();\n    });\n    eresponse.results.forEach(episode => {\n      arr.push(episode);\n    });\n\n    if (eresponse.info.next != '') {\n      url = eresponse.info.next;\n    } else {\n      break;\n    }\n  }\n\n  return {\n    episodes: arr\n  };\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}