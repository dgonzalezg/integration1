{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from '../../components/MyLayout';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\n\nconst Episode = props => __jsx(Layout, null, __jsx(\"h1\", null, props.episode.name), __jsx(\"p\", null, \"Release date: \", props.episode.air_date), __jsx(\"p\", null, \"Episode: \", props.episode.episode), __jsx(\"h2\", null, \" Characters in this episode\"), props.characters.map(character => __jsx(\"li\", {\n  key: character.id\n}, __jsx(Link, {\n  href: \"/character/[cid]\",\n  as: `/character/${character.id}`\n}, __jsx(\"a\", null, character.name)))));\n\nEpisode.getInitialProps = async function (context) {\n  const {\n    eid\n  } = context.query;\n  const res = await fetch(`https://rickandmortyapi.com/api/episode/${eid}`).then(response => {\n    return response.json();\n  });\n  const cids = [];\n\n  for (let i = 0; i < res.characters.length; i++) {\n    const character = res.characters[i].split('/');\n    const id = character[character.length - 1];\n    cids.push(id);\n  }\n\n  ;\n  const characters_arr = await fetch(`https://rickandmortyapi.com/api/character/${cids}`).then(response => {\n    return response.json();\n  });\n  return {\n    episode: res,\n    characters: characters_arr\n  };\n};\n\nexport default Episode;","map":null,"metadata":{},"sourceType":"module"}